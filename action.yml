name: 'Ruff Python Linter'
description: 'Run Ruff, an extremely fast Python linter, on your Python code.'
branding:
  icon: 'zap'
  color: 'purple'

inputs:
  target_paths:
    description: 'Paths to directory to lint.'
    required: false
    default: '.'

runs:
  using: 'composite'
  steps:
    - uses: actions/checkout@v4
    - uses: docker://swepy/ruff:0
    - name: Run Ruff Linter
      shell: sh
      env:
        TARGET_PATHS: ${{ inputs.target_paths }}
        RUFF_CHECK_OPTIONS: ''
        RUFF_FORMAT_OPTIONS: '--check'
      run: |
        ruff check $RUFF_CHECK_OPTIONS $TARGET_PATHS
        ruff format $RUFF_FORMAT_OPTIONS $TARGET_PATHS
